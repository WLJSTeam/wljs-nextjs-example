const t=(t,e)=>{if(e<=0)throw new Error("Size must be greater than zero.");const r=[];for(let n=0;n<t.length;n+=e)r.push(t.slice(n,n+e));return r};class e{dims;buffer;constructor(t,e){return this.buffer=t,this.dims=e,this}toJSON(){return this.normal()}normal(){let e=Array.from(this.buffer);for(let r=this.dims.length-1;r>0;--r)e=t(e,this.dims[r]);return e}static Q(t){return t instanceof e}}window.NumericArrayObject=e;class r{constructor(t,e){this.re=t,this.im=e}static isComplex(t){return t instanceof r}add(t){return new r(this.re+t.re,this.im+t.im)}subtract(t){return new r(this.re-t.re,this.im-t.im)}multiply(t){const e=this.re*t.re-this.im*t.im,n=this.re*t.im+this.im*t.re;return new r(e,n)}divide(t){const e=t.re**2+t.im**2,n=(this.re*t.re+this.im*t.im)/e,i=(this.im*t.re-this.re*t.im)/e;return new r(n,i)}}function n(t){return/^-?\d+$/.test(t)}const i=new RegExp(/^(-?\d+)(.?\d*)(\*\^)?(\d*)/);window.Complex=r,window.Deferred=class{promise={};reject={};resolve={};constructor(){this.promise=new Promise(((t,e)=>{this.reject=e,this.resolve=t}))}},window.aflatten=t=>t.flat(1/0),window.isNumeric=n;var o=(t,e={})=>{if(void 0===t)return console.log("undefined object"),t;const r="string"==typeof t;if(r){if("'"==t.charAt(0))return t.slice(1,-1);if(n(t))return parseInt(t);if(i.test(t)){let[e,r,n,o,a]=t.split(i);return r+="."===n?n+"0":n,o&&(r+="E"+a),parseFloat(r)}}if("number"==typeof t)return t;if(!(t instanceof Array||r))return t;let a,s;if(r?(a=t,s=void 0):(a=t[0],s=t.slice(1,t.length)),"scope"in e&&a in e.scope)return e.scope[a](s,e);if("context"in e)if(Array.isArray(e.context)){for(let r=0;r<e.context.length;++r)if(a in e.context[r]){if(e.method)return e.context[r][a][e.method]?e.context[r][a][e.method](s,e):console.error("method "+e.method+" is not defined for "+a);if("virtual"in e.context[r][a]&&!e.novirtual){const n=new f("virtual-"+u(),e,t);let i=n.assignScope();return n.firstName=a,e.context[r][a](s,i)}return e.context[r][a](s,e)}}else if(a in e.context){if(e.method)return e.context[a][e.method]?e.context[a][e.method](s,e):console.error("method "+e.method+" is not defined for "+a);if("virtual"in e.context[a]&&!e.novirtual){const r=new f("virtual-"+u(),e,t);let n=r.assignScope();return r.firstName=a,e.context[a](s,n)}return e.context[a](s,e)}const c=o.contextes;for(let r=0;r<c.length;++r)if(a in c[r]){if(e.method)return c[r][a][e.method]?c[r][a][e.method](s,e):console.error("method "+e.method+" is not defined for "+a);if("virtual"in c[r][a]&&!e.novirtual){const n=new f("virtual-"+u(),e,t);let i=n.assignScope();return n.firstName=a,c[r][a](s,i)}return c[r][a](s,e)}return o.anonymous(t,e)};const a=function(t){return t.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0)};let s,c;o.hash=t=>{if(void 0===t)return console.log("undefined object"),a("undefined");const e="string"==typeof t;if(e){if("'"==t.charAt(0))return a(t.slice(1,-1));if(n(t))return a(String(parseInt(t)));if(i.test(t)){let[e,r,n,o,s]=t.split(i);return r+="."===n?n+"0":n,o&&(r+="E"+s),a(String(parseFloat(r)))}}return"number"==typeof t?a(String(t)):t instanceof Array||e?e?a(t):t.map((t=>o.hash(t))).reduce(((t,e)=>t+e),0):a(String(t))},o.cnt=0,o.contextes=[],o.contextExpand=t=>{console.log(t.name+" was added to the contextes of the interpreter"),o.contextes.push(t)},o.shared={},o.shared=class{constructor(t,e){this.key=t;const r=this;r.load=async()=>{await e(r),r.load=async()=>{console.log("Already loaded!")}},o.shared[t]=this}},o.handleMessage=t=>{const e={call:Math.floor(100*Math.random())};o(JSON.parse(t.data),{global:e})},o.unzlib64String=async t=>{s||(s=(await Promise.resolve().then((function(){return rt}))).unzlibSync);const e=atob(t);return(new TextDecoder).decode(s(Uint8Array.from(e,(t=>t.charCodeAt(0)))))},o.zlib64String=async t=>{c||(c=(await Promise.resolve().then((function(){return rt}))).zlibSync);const e=c((new TextEncoder).encode(t));let r="";for(let t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return btoa(r)},o.anonymous=async(t,e)=>{throw"Unknown symbol "+JSON.stringify(t)};var l={};window.InstancesHashMap=l;class f{env={};uid="";instance="";_proxies=new Set;dead=!1;virtual=!1;local={};assignScope(){return this.env.local=this.local,this.env}async execute(t){return o(this.virtual,t?{...this.env,...t}:this.env)}dispose(){if(this.dead)return;if(this.dead=!0,this.static)return void delete l[this.instance];this.env.method="destroy";let t=this.virtual;this.env.local=this.local,o(t,this.env),delete l[this.instance]}update(t){if(this.parent instanceof f&&!(this.child instanceof f))return this.parent.update();let e;return this.env.method="update",this.env.local=this.local,e=this.virtual?this.virtual:this.storage.get(this.uid),o(e,this.env)}constructor(t,e,r=!1,n=!1){if(this.static=n,this.uid=t,this.env={...e,exposed:e},this.instance=u(),this.env.element=this.env.element||"body",this.env.global.stack=this.env.global.stack||{},this.env.global.stack[t]=this,this.env.root=this.env.root||{},this.local.middleware=t=>t,r?this.virtual=r:(t in ObjectHashMap?this.storage=ObjectHashMap[t]:this.storage=new ObjectStorage(t),this.storage.assign(this)),this.env.root instanceof f&&!this.env.static&&!this.env.root.static){const t=this.env.root;"string"==typeof r?t._proxies.has(r)||(t._proxies.add(r),this.parent=this.env.root,this.env.root.child=this):(this.parent=this.env.root,this.env.root.child=this)}if(this.env.root=this,l[this.instance]=this,this.env.global.hooks){const t=this;this.env.global.hooks.forEach((e=>{e(t)}))}return this}}function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}window.ExecutableObject=f,window.uuidv4=u,window.downloadByURL=function(t,e){var r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download",e),r.click(),r.remove()};window.setInnerHTML=function(t,e){return t.innerHTML=e,Array.from(t.querySelectorAll("script")).forEach((t=>{const e=document.createElement("script");Array.from(t.attributes).forEach((t=>e.setAttribute(t.name,t.value))),e.appendChild(document.createTextNode(t.innerHTML)),t.parentNode.replaceChild(e,t)})),t},window.setInnerHTMLAsync=async function(t,e){return t.innerHTML=e,Array.from(t.querySelectorAll("script")).forEach((t=>{const e=document.createElement("script");Array.from(t.attributes).forEach((t=>e.setAttribute(t.name,t.value))),e.src||"module"!=e.type?e.appendChild(document.createTextNode(t.innerHTML)):(e.removeAttribute("type"),e.appendChild(document.createTextNode("{\n"+t.innerHTML+"\n}"))),t.parentNode.replaceChild(e,t)})),t},window.openawindow=function(t,e="_self"){const r=document.createElement("a");r.target=e,r.href=t,r.click()},o.throttle=30,window.throttle=function(t,e=()=>o.throttle){let r,n=!1;const i=()=>{null==r?n=!1:(t(...r),r=null,setTimeout(i,e()))};return(...o)=>{n?r=o:(t(...o),n=!0,setTimeout(i,e()))}},window.interpretate=o;var h=Uint8Array,d=Uint16Array,v=Int32Array,m=new h([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),w=new h([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),p=new h([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=function(t,e){for(var r=new d(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];var i=new v(r[30]);for(n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return{b:r,r:i}},g=x(m,2),y=g.b,b=g.r;y[28]=258,b[258]=28;for(var M=x(w,0),A=M.b,S=M.r,k=new d(32768),E=0;E<32768;++E){var T=(43690&E)>>1|(21845&E)<<1;T=(61680&(T=(52428&T)>>2|(13107&T)<<2))>>4|(3855&T)<<4,k[E]=((65280&T)>>8|(255&T)<<8)>>1}var z=function(t,e,r){for(var n=t.length,i=0,o=new d(e);i<n;++i)t[i]&&++o[t[i]-1];var a,s=new d(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;if(r){a=new d(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var l=i<<4|t[i],f=e-t[i],u=s[t[i]-1]++<<f,h=u|(1<<f)-1;u<=h;++u)a[k[u]>>c]=l}else for(a=new d(n),i=0;i<n;++i)t[i]&&(a[i]=k[s[t[i]-1]++]>>15-t[i]);return a},N=new h(288);for(E=0;E<144;++E)N[E]=8;for(E=144;E<256;++E)N[E]=9;for(E=256;E<280;++E)N[E]=7;for(E=280;E<288;++E)N[E]=8;var C=new h(32);for(E=0;E<32;++E)C[E]=5;var j=z(N,9,0),H=z(N,9,1),O=z(C,5,0),L=z(C,5,1),_=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},I=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(7&e)&r},U=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(7&e)},D=function(t){return(t+7)/8|0},F=function(t,e,r){return(null==e||e<0)&&(e=0),(null==r||r>t.length)&&(r=t.length),new h(t.subarray(e,r))},J=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],P=function(t,e,r){var n=new Error(e||J[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,P),!r)throw n;return n},q=function(t,e,r){r<<=7&e;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},R=function(t,e,r){r<<=7&e;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},B=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,o=r.slice();if(!i)return{t:X,l:0};if(1==i){var a=new h(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort((function(t,e){return t.f-e.f})),r.push({s:-1,f:25001});var s=r[0],c=r[1],l=0,f=1,u=2;for(r[0]={s:-1,f:s.f+c.f,l:s,r:c};f!=i-1;)s=r[r[l].f<r[u].f?l++:u++],c=r[l!=f&&r[l].f<r[u].f?l++:u++],r[f++]={s:-1,f:s.f+c.f,l:s,r:c};var v=o[0].s;for(n=1;n<i;++n)o[n].s>v&&(v=o[n].s);var m=new d(v+1),w=Q(r[f-1],m,0);if(w>e){n=0;var p=0,x=w-e,g=1<<x;for(o.sort((function(t,e){return m[e.s]-m[t.s]||t.f-e.f}));n<i;++n){var y=o[n].s;if(!(m[y]>e))break;p+=g-(1<<w-m[y]),m[y]=e}for(p>>=x;p>0;){var b=o[n].s;m[b]<e?p-=1<<e-m[b]++-1:++n}for(;n>=0&&p;--n){var M=o[n].s;m[M]==e&&(--m[M],++p)}w=e}return{t:new h(m),l:w}},Q=function(t,e,r){return-1==t.s?Math.max(Q(t.l,e,r+1),Q(t.r,e,r+1)):e[t.s]=r},$=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new d(++e),n=0,i=t[0],o=1,a=function(t){r[n++]=t},s=1;s<=e;++s)if(t[s]==i&&s!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=t[s]}return{c:r.subarray(0,n),n:e}},G=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},K=function(t,e,r){var n=r.length,i=D(e+2);t[i]=255&n,t[i+1]=n>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var o=0;o<n;++o)t[i+o+4]=r[o];return 8*(i+4+n)},V=function(t,e,r,n,i,o,a,s,c,l,f){q(e,f++,r),++i[256];for(var u=B(i,15),h=u.t,v=u.l,x=B(o,15),g=x.t,y=x.l,b=$(h),M=b.c,A=b.n,S=$(g),k=S.c,E=S.n,T=new d(19),H=0;H<M.length;++H)++T[31&M[H]];for(H=0;H<k.length;++H)++T[31&k[H]];for(var L=B(T,7),_=L.t,I=L.l,U=19;U>4&&!_[p[U-1]];--U);var D,F,J,P,Q=l+5<<3,V=G(i,N)+G(o,C)+a,W=G(i,h)+G(o,g)+a+14+3*U+G(T,_)+2*T[16]+3*T[17]+7*T[18];if(c>=0&&Q<=V&&Q<=W)return K(e,f,t.subarray(c,c+l));if(q(e,f,1+(W<V)),f+=2,W<V){D=z(h,v,0),F=h,J=z(g,y,0),P=g;var X=z(_,I,0);q(e,f,A-257),q(e,f+5,E-1),q(e,f+10,U-4),f+=14;for(H=0;H<U;++H)q(e,f+3*H,_[p[H]]);f+=3*U;for(var Y=[M,k],Z=0;Z<2;++Z){var tt=Y[Z];for(H=0;H<tt.length;++H){var et=31&tt[H];q(e,f,X[et]),f+=_[et],et>15&&(q(e,f,tt[H]>>5&127),f+=tt[H]>>12)}}}else D=j,F=N,J=O,P=C;for(H=0;H<s;++H){var rt=n[H];if(rt>255){R(e,f,D[(et=rt>>18&31)+257]),f+=F[et+257],et>7&&(q(e,f,rt>>23&31),f+=m[et]);var nt=31&rt;R(e,f,J[nt]),f+=P[nt],nt>3&&(R(e,f,rt>>5&8191),f+=w[nt])}else R(e,f,D[rt]),f+=F[rt]}return R(e,f,D[256]),f+F[256]},W=new v([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),X=new h(0),Y=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,o=0|r.length,a=0;a!=o;){for(var s=Math.min(a+2655,o);a<s;++a)i+=n+=r[a];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}t=n,e=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(e%=65521))<<8|e>>8}}},Z=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),a=new h(o.length+t.length);a.set(o),a.set(t,o.length),t=a,i.w=o.length}return function(t,e,r,n,i,o){var a=o.z||t.length,s=new h(n+a+5*(1+Math.ceil(a/7e3))+i),c=s.subarray(n,s.length-i),l=o.l,f=7&(o.r||0);if(e){f&&(c[0]=o.r>>3);for(var u=W[e-1],p=u>>13,x=8191&u,g=(1<<r)-1,y=o.p||new d(32768),M=o.h||new d(g+1),A=Math.ceil(r/3),k=2*A,E=function(e){return(t[e]^t[e+1]<<A^t[e+2]<<k)&g},T=new v(25e3),z=new d(288),N=new d(32),C=0,j=0,H=o.i||0,O=0,L=o.w||0,_=0;H+2<a;++H){var I=E(H),U=32767&H,J=M[I];if(y[U]=J,M[I]=U,L<=H){var P=a-H;if((C>7e3||O>24576)&&(P>423||!l)){f=V(t,c,0,T,z,N,j,O,_,H-_,f),O=C=j=0,_=H;for(var q=0;q<286;++q)z[q]=0;for(q=0;q<30;++q)N[q]=0}var R=2,B=0,Q=x,$=U-J&32767;if(P>2&&I==E(H-$))for(var G=Math.min(p,P)-1,X=Math.min(32767,H),Y=Math.min(258,P);$<=X&&--Q&&U!=J;){if(t[H+R]==t[H+R-$]){for(var Z=0;Z<Y&&t[H+Z]==t[H+Z-$];++Z);if(Z>R){if(R=Z,B=$,Z>G)break;var tt=Math.min($,Z-2),et=0;for(q=0;q<tt;++q){var rt=H-$+q&32767,nt=rt-y[rt]&32767;nt>et&&(et=nt,J=rt)}}}$+=(U=J)-(J=y[U])&32767}if(B){T[O++]=268435456|b[R]<<18|S[B];var it=31&b[R],ot=31&S[B];j+=m[it]+w[ot],++z[257+it],++N[ot],L=H+R,++C}else T[O++]=t[H],++z[t[H]]}}for(H=Math.max(H,L);H<a;++H)T[O++]=t[H],++z[t[H]];f=V(t,c,l,T,z,N,j,O,_,H-_,f),l||(o.r=7&f|c[f/8|0]<<3,f-=7,o.h=M,o.p=y,o.i=H,o.w=L)}else{for(H=o.w||0;H<a+l;H+=65535){var at=H+65535;at>=a&&(c[f/8|0]=l,at=a),f=K(c,f+1,t.subarray(H,at))}o.i=a}return F(s,0,n+D(f)+i)}(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,r,n,i)},tt=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8};var et="undefined"!=typeof TextDecoder&&new TextDecoder;try{et.decode(X,{stream:!0})}catch(t){}var rt=Object.freeze({__proto__:null,unzlibSync:function(t,e){return function(t,e,r,n){var i=t.length,o=n?n.length:0;if(!i||e.f&&!e.l)return r||new h(0);var a=!r,s=a||2!=e.i,c=e.i;a&&(r=new h(3*i));var l=function(t){var e=r.length;if(t>e){var n=new h(Math.max(2*e,t));n.set(r),r=n}},f=e.f||0,u=e.p||0,d=e.b||0,v=e.l,x=e.d,g=e.m,b=e.n,M=8*i;do{if(!v){f=I(t,u,1);var S=I(t,u+1,3);if(u+=3,!S){var k=t[(Q=D(u)+4)-4]|t[Q-3]<<8,E=Q+k;if(E>i){c&&P(0);break}s&&l(d+k),r.set(t.subarray(Q,E),d),e.b=d+=k,e.p=u=8*E,e.f=f;continue}if(1==S)v=H,x=L,g=9,b=5;else if(2==S){var T=I(t,u,31)+257,N=I(t,u+10,15)+4,C=T+I(t,u+5,31)+1;u+=14;for(var j=new h(C),O=new h(19),J=0;J<N;++J)O[p[J]]=I(t,u+3*J,7);u+=3*N;var q=_(O),R=(1<<q)-1,B=z(O,q,1);for(J=0;J<C;){var Q,$=B[I(t,u,R)];if(u+=15&$,(Q=$>>4)<16)j[J++]=Q;else{var G=0,K=0;for(16==Q?(K=3+I(t,u,3),u+=2,G=j[J-1]):17==Q?(K=3+I(t,u,7),u+=3):18==Q&&(K=11+I(t,u,127),u+=7);K--;)j[J++]=G}}var V=j.subarray(0,T),W=j.subarray(T);g=_(V),b=_(W),v=z(V,g,1),x=z(W,b,1)}else P(1);if(u>M){c&&P(0);break}}s&&l(d+131072);for(var X=(1<<g)-1,Y=(1<<b)-1,Z=u;;Z=u){var tt=(G=v[U(t,u)&X])>>4;if((u+=15&G)>M){c&&P(0);break}if(G||P(2),tt<256)r[d++]=tt;else{if(256==tt){Z=u,v=null;break}var et=tt-254;if(tt>264){var rt=m[J=tt-257];et=I(t,u,(1<<rt)-1)+y[J],u+=rt}var nt=x[U(t,u)&Y],it=nt>>4;if(nt||P(3),u+=15&nt,W=A[it],it>3&&(rt=w[it],W+=U(t,u)&(1<<rt)-1,u+=rt),u>M){c&&P(0);break}s&&l(d+131072);var ot=d+et;if(d<W){var at=o-W,st=Math.min(W,ot);for(at+d<0&&P(3);d<st;++d)r[d]=n[at+d]}for(;d<ot;++d)r[d]=r[d-W]}}e.l=v,e.p=Z,e.b=d,e.f=f,v&&(f=1,e.m=g,e.d=x,e.n=b)}while(!f);return d!=r.length&&a?F(r,0,d):r.subarray(0,d)}(t.subarray((r=t,n=e&&e.dictionary,(8!=(15&r[0])||r[0]>>4>7||(r[0]<<8|r[1])%31)&&P(6,"invalid zlib data"),(r[1]>>5&1)==+!n&&P(6,"invalid zlib data: "+(32&r[1]?"need":"unexpected")+" dictionary"),2+(r[1]>>3&4)),-4),{i:2},e&&e.out,e&&e.dictionary);var r,n},zlibSync:function(t,e){e||(e={});var r=Y();r.p(t);var n=Z(t,e,e.dictionary?6:2,4);return function(t,e){var r=e.level,n=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Y();i.p(e.dictionary),tt(t,2,i.d())}}(n,e),tt(n,n.length-4,r.d()),n}});
